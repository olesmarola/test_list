(this.webpackJsonptest_list=this.webpackJsonptest_list||[]).push([[0],{19:function(e,t,n){e.exports=n(31)},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(16),c=n.n(s),u=n(9),i=n(6),l=n(2),o=n.n(l),f=n(8),p="https://beta.autobooking.com/api/test/v1",h=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(fetch(p+"/search/terms"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}))},b=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(fetch(p+"/search/brands_terms"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}))},d=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(fetch(p+"/search/styles"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}))},m=function(e){var t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.a.awrap(fetch(p+"/search/parse_link"+"?".concat(new URLSearchParams(e).toString())));case 2:return t=n.sent,n.abrupt("return",t.json());case 4:case"end":return n.stop()}}))},v=Object(a.memo)((function(e){var t=e.list,n=e.prefix,a=e.defaultValue,s=void 0===a?-1:a,c=Object(i.e)(),u=Object(i.f)();return r.a.createElement("select",{onChange:function(e){return function(e,t,n){var a=u.pathname.slice(1).split("/");if(-1===+t)a=a.filter((function(e){return!e.startsWith(n)}));else{var r=e.find((function(e){return e.id===+t}));r.hasOwnProperty("slug")&&(a.every((function(e){return""===e}))&&(a=[]),a.some((function(e){return e.startsWith(n)}))?a=a.map((function(e){return e.startsWith(n)?n+r.slug:e})):a.push(n+r.slug))}c.push({pathname:"/".concat(a.join("/"))})}(t,e.target.value,n)},defaultValue:s},r.a.createElement("option",{value:"-1"},""),t.map((function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.label)})))})),j=Object(a.memo)((function(){var e=Object(a.useState)(null),t=Object(f.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)([]),u=Object(f.a)(c,2),l=u[0],p=u[1],j=Object(a.useState)([]),O=Object(f.a)(j,2),g=O[0],w=O[1],x=Object(a.useState)([]),y=Object(f.a)(x,2),E=y[0],S=y[1],_=Object(a.useState)(!0),P=Object(f.a)(_,2),k=P[0],V=P[1],W=Object(i.f)();return Object(a.useEffect)((function(){!function(){var e,t,n,a,r;o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,o.a.awrap(Promise.all([h(),b(),d(),m()]));case 2:e=s.sent,t=Object(f.a)(e,3),n=t[0],a=t[1],r=t[2],p(n.data),w(a.data),S(r.data),V(!1);case 11:case"end":return s.stop()}}))}(),function(){var e,t;o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=W.pathname,t={},e.slice(1).split("/").forEach((function(e){"s-"===e.slice(0,"s-".length)&&(t.service_slug=e.slice("s-".length)),"b-"===e.slice(0,"b-".length)&&(t.brand_slug=e.slice("b-".length)),"st-"===e.slice(0,"st-".length)&&(t.style_slug=e.slice("st-".length))})),n.t0=s,n.next=6,o.a.awrap(m(t));case 6:n.t1=n.sent,(0,n.t0)(n.t1);case 8:case"end":return n.stop()}}))}()}),[]),k?r.a.createElement("span",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{list:l,prefix:"s-",defaultValue:n.service.hasOwnProperty("id")?n.service.id:null}),r.a.createElement(v,{list:g,prefix:"b-",defaultValue:n.brand.hasOwnProperty("id")?n.brand.id:null}),r.a.createElement(v,{list:E,prefix:"st-",defaultValue:n.style.hasOwnProperty("id")?n.style.id:null}))})),O=(n(30),function(){return r.a.createElement(i.a,{path:"/",component:j})});c.a.render(r.a.createElement(u.a,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.2a041965.chunk.js.map